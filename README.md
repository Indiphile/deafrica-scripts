<h1 align="center">
  Deafrica Scripts
</h1>


## üíª Technologies

- [PYTHON 3.9](https://www.python.org/downloads/release/python-390/)
- [Docker](https://www.docker.com/)
- [GDAL](https://gdal.org/)
- [Boto3](https://github.com/boto/boto3)
- [rio-cogeo](https://github.com/cogeotiff/rio-cogeo)


## üìù Description
###There are two main solutions solved for Deafrica-Scrips:

####Data Acquiring
 - **Chirps** : 
    

 - **GMW** : 
    - Data acquired from [Global Mangrove Watch](https://data.unep-wcmc.org/datasets/45). 
   This script generates mangrove extents mapped by GMW over Africa in cloud optimized rasters 
   at 0.001 0.001 spatial resolution.
   

<br>

####Monitoring
 - **Check dead queues** : 
    - Script to monitor Deafrica dead queues, with an option of Slack alert.

 - **Landsat gap filler** : 
    - Script to transfer scenes that are missing in Deafrica from USGS S3 bucket. A list of missing scenes 
   is generated by the gap report process and used to fill gaps. 

 - **Landsat gap Report** : 
   - Script to check differences across satellites Landsat 8, 7, and 5 between USGS bulk file 
   and Deafrica's inventory bucket. As per result, gap report will generate a JSON file within a list 
   of missing and orphan scenes.


 - **Sentinel 2 gap filler** : 
   - Script to transfer scenes that are missing in Deafrica from Element-84 inventory bucket. A list of missing scenes 
      is generated by the gap report process and used to fill those gaps.

 - **Sentinel 2 gap Report** :
   - Script to check differences between Element-84 inventory bucket and Deafrica's inventory bucket. As per result, 
   gap report will generate a JSON file within a list of missing and orphan scenes.

## ‚öôÔ∏è Setup & Run
Clone the main project repository from Github.
```sh
# git clone https://github.com/digitalearthafrica/deafrica-scripts.git  
``` 

## Building locally 
```sh
# cd deafrica-scripts
# docker build -t Deafrica-Scripts
```

## Download Image from the repository 
```sh
# docker pull digitalearthafrica/deafrica-tools
```

## Installing and developing locally
**project root**
```sh
# pip install -r requirements.txt
# pip install -e .
```

## üìù Tests
**project root**
PS.: It will require requirements-test.txt

```sh
# pip install -r requirements-test.txt
# pytest .
```

## ‚öôÔ∏è GitHub Actions
Any changes pulled to any branch will be tested and have the formation checked by black.
A Merge will result in the creation of a new test image on Docker and 45 min later replicated on our AWS ECS.

##

Copyright **Deafrica** - [GitHub](https://github.com/digitalearthafrica)
Developed by **Rodrigo de Azevedo Carvalho** - [Linkedin](www.linkedin.com/in/rodrigo-de-azevedo-carvalho) - [GitHub](https://github.com/carioca-au)

